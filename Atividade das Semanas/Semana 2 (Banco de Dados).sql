aventureiros_ref = db.reference('/aventureiros')

aventureiros_ref.set({
    '001': {
        'Inventario': [
            '01'
        ],
        'classes': {
            'artificer': 1,
            'cavaleiro': 1,
            'heroi': 0,
            'mago': 0,
            'mercador': 0
        },
        'nivel': 3,
        'nome': 'Andre',
        'vida': 21,
        'vila': 'Vale do Espantalho'
    },
    '002': {
        'Inventario': [
            '04'
        ],
        'classes': {
            'artificer': 1,
            'cavaleiro': 0,
            'heroi': 0,
            'mago': 0,
            'mercador': 0
        },
        'nivel': 1,
        'nome': 'Angelina',
        'vida': 14,
        'vila': 'Vale do Espantalho'
    },
    '003': {
        'Inventario': [
            'Vazio'
        ],
        'classes': {
            'artificer': 0,
            'cavaleiro': 1,
            'heroi': 0,
            'mago': 1,
            'mercador': 0
        },
        'nivel': 2,
        'nome': 'Arthur',
        'vida': 17,
        'vila': 'Vale do Espantalho'
    },
    '004': {
        'Inventario': [
            '11',
            '12'
        ],
        'classes': {
            'artificer': 2,
            'cavaleiro': 1,
            'heroi': 0,
            'mago': 1,
            'mercador': 1
        },
        'nivel': 4,
        'nome': 'Bruno',
        'vida': 24,
        'vila': 'Vale do Espantalho'
    },
    '005': {
        'Inventario': [
            '01'
        ],
        'classes': {
            'artificer': 1,
            'cavaleiro': 1,
            'heroi': 0,
            'mago': 1,
            'mercador': 0
        },
        'nivel': 3,
        'nome': 'Caue',
        'vida': 21,
        'vila': 'Vale do Espantalho'
    },
    '006': {
        'Inventario': [
            '04'
        ],
        'classes': {
            'artificer': 0,
            'cavaleiro': 1,
            'heroi': 0,
            'mago': 0,
            'mercador': 0
        },
        'nivel': 1,
        'nome': 'Cau√£',
        'vida': 15,
        'vila': 'Vale do Espantalho'
    },
    '007': {
        'Inventario': [
            '04'
        ],
        'classes': {
            'artificer': 1,
            'cavaleiro': 1,
            'heroi': 0,
            'mago': 0,
            'mercador': 0
        },
        'nivel': 2,
        'nome': 'Enzo',
        'vida': 19,
        'vila': 'Vale do Espantalho'
    },
    '008': {
        'Inventario': [
            '01'
        ],
        'classes': {
            'artificer': 1,
            'cavaleiro': 1,
            'heroi': 0,
            'mago': 1,
            'mercador': 1
        },
        'nivel': 4,
        'nome': 'Fabio',
        'vida': 24,
        'vila': 'Vale do Espantalho'
    },
    '009': {
        'Inventario': [
            '06'
        ],
        'classes': {
            'artificer': 1,
            'cavaleiro': 0,
            'heroi': 0,
            'mago': 0,
            'mercador': 0
        },
        'nivel': 1,
        'nome': 'Fernanda',
        'vida': 14,
        'vila': 'Vale do Espantalho'
    },
    '010': {
        'Inventario': [
            '03'
        ],
        'classes': {
            'artificer': 1,
            'cavaleiro': 1,
            'heroi': 0,
            'mago': 0,
            'mercador': 1
        },
        'nivel': 3,
        'nome': 'Gabriel',
        'vida': 22,
        'vila': 'Vale do Espantalho'
    },
    '011': {
        'Inventario': [
            '04',
            '11'
        ],
        'classes': {
            'artificer': 1,
            'cavaleiro': 1,
            'heroi': 0,
            'mago': 0,
            'mercador': 1
        },
        'nivel': 3,
        'nome': 'Giullia',
        'vida': 22,
        'vila': 'Vale do Espantalho'
    },
    '012': {
        'Inventario': [
            '01'
        ],
        'classes': {
            'artificer': 1,
            'cavaleiro': 1,
            'heroi': 0,
            'mago': 0,
            'mercador': 0
        },
        'nivel': 2,
        'nome': 'Guilherme Leit√£o',
        'vida': 19,
        'vila': 'Vale do Espantalho'
    },
    '013': {
        'Inventario': [
            '04'
        ],
        'classes': {
            'artificer': 1,
            'cavaleiro': 0,
            'heroi': 0,
            'mago': 0,
            'mercador': 0
        },
        'nivel': 1,
        'nome': 'Guilherme Pescuma',
        'vida': 14,
        'vila': 'Vale do Espantalho'
    },
    '014': {
        'Inventario': [
            '04',
            '07'
        ],
        'classes': {
            'artificer': 0,
            'cavaleiro': 0,
            'heroi': 0,
            'mago': 0,
            'mercador': 0
        },
        'nivel': 0,
        'nome': 'Gustavo pescuma',
        'vida': 10,
        'vila': 'Vale do Espantalho'
    },
    '015': {
        'Inventario': [
            '02'
        ],
        'classes': {
            'artificer': 1,
            'cavaleiro': 1,
            'heroi': 0,
            'mago': 0,
            'mercador': 1
        },
        'nivel': 3,
        'nome': 'Jo√£o',
        'vida': 22,
        'vila': 'Vale do Espantalho'
    },
    '016': {
        'Inventario': [
            '03'
        ],
        'classes': {
            'artificer': 1,
            'cavaleiro': 1,
            'heroi': 0,
            'mago': 1,
            'mercador': 0
        },
        'nivel': 3,
        'nome': 'L.Mendess',
        'vida': 21,
        'vila': 'Vale do Espantalho'
    },
    '017': {
        'Inventario': [
            '04'
        ],
        'classes': {
            'artificer': 0,
            'cavaleiro': 1,
            'heroi': 0,
            'mago': 0,
            'mercador': 1
        },
        'nivel': 2,
        'nome': 'L.Souza',
        'vida': 18,
        'vila': 'Vale do Espantalho'
    },
    '018': {
        'Inventario': [
            'Vazio'
        ],
        'classes': {
            'artificer': 1,
            'cavaleiro': 0,
            'heroi': 0,
            'mago': 0,
            'mercador': 0
        },
        'nivel': 1,
        'nome': 'Maria Luiza',
        'vida': 14,
        'vila': 'Vale do Espantalho'
    },
    '019': {
        'Inventario': [
            '01'
        ],
        'classes': {
            'artificer': 1,
            'cavaleiro': 1,
            'heroi': 0,
            'mago': 1,
            'mercador': 1
        },
        'nivel': 4,
        'nome': 'Maria Querioz',
        'vida': 24,
        'vila': 'Vale do Espantalho'
    },
    '020': {
        'Inventario': [
            '04',
            '09'
        ],
        'classes': {
            'artificer': 0,
            'cavaleiro': 1,
            'heroi': 0,
            'mago': 1,
            'mercador': 0
        },
        'nivel': 2,
        'nome': 'Matheus',
        'vida': 17,
        'vila': 'Vale do Espantalho'
    },
    '021': {
        'Inventario': [
            '02'
        ],
        'classes': {
            'artificer': 0,
            'cavaleiro': 0,
            'heroi': 0,
            'mago': 0,
            'mercador': 0
        },
        'nivel': 0,
        'nome': 'Nicole',
        'vida': 10,
        'vila': 'Vale do Espantalho'
    },
    '022': {
        'Inventario': [
            '04'
        ],
        'classes': {
            'artificer': 1,
            'cavaleiro': 1,
            'heroi': 0,
            'mago': 0,
            'mercador': 1
        },
        'nivel': 3,
        'nome': 'Raika',
        'vida': 22,
        'vila': 'Vale do Espantalho'
    },
    '023': {
        'Inventario': [
            '02',
            '08'
        ],
        'classes': {
            'artificer': 0,
            'cavaleiro': 0,
            'heroi': 0,
            'mago': 0,
            'mercador': 0
        },
        'nivel': 0,
        'nome': 'Richard',
        'vida': 10,
        'vila': 'Vale do Espantalho'
    },
    '024': {
        'Inventario': [
            'Vazio'
        ],
        'classes': {
            'artificer': 0,
            'cavaleiro': 0,
            'heroi': 0,
            'mago': 0,
            'mercador': 0
        },
        'nivel': 0,
        'nome': 'Erick',
        'vida': 10,
        'vila': 'Vale do Espantalho'
    },
    '025': {
        'nome': 'Minerador',
        'vida': 10,
        'vila': 'Vale do Espantalho'
    },
    '026': {
        'nome': 'Lenhador',
        'vida': 10,
        'vila': 'Vale do Espantalho'
    },
    '027': {
        'nome': 'Fazendeiro',
        'vida': 10,
        'vila': 'Vale do Espantalho'
    },
    '028': {
        'nome': 'Herbalista',
        'vida': 10,
        'vila': 'Vale do Espantalho'
    },
    '029': {
        'nome': 'Guarda',
        'vida': 10,
        'vila': 'Vale do Espantalho'
    },
    '030': {
        'nome': 'Joaquim',
        'vida': 10,
        'vila': 'Vale do Espantalho'
    },
    '031': {
        'nome': 'ferreiro',
        'vida': 10,
        'vila': 'Vale do Espantalho'
    }
})
itens_ref = db.reference('/itens')

itens_ref.set({
    '01': {
        'nome': 'Espada de ferro (SM0)',
        'descricao': 'Espada especial feita na Semana 0.',
        'Como pode ser usada': 'Espada bate nos n√∫meros 1, 3, 5, 7, 9 com naipe de espada.',
        'dano': 2
    },
    '02': {
        'nome': 'Espada de ferro fraca (SM0)',
        'descricao': 'Vers√£o mais fraca da espada de ferro da Semana 0.',
        'Como pode ser usada': 'Bate nos n√∫meros 3, 5, 7 com naipe de espada.',
        'dano': 1
    },
    '03': {
        'nome': 'Espada de ferro (SM1)',
        'descricao': 'Espada forjada na Semana 1.',
        'Como pode ser usada': 'Bate nos n√∫meros 3, 5, 7 com naipe de espada.',
        'dano': 2
    },
    '04': {
        'nome': 'Espada de ferro fraca (SM1)',
        'descricao': 'Vers√£o mais fraca da espada de ferro da Semana 1.',
        'Como pode ser usada': 'Bate nos n√∫meros 3, 5, 7 com naipe de espada.',
        'dano': 1
    },
    '05': {
        'nome': 'Cria√ß√£o de Grupo',
        'descricao': 'Permite criar um grupo de jogadores para miss√µes.',
        'Como pode ser usada': 'Usado para criar grupos de combate cooperativo.',
        'dano': 0
    },
    '06': {
        'nome': 'Po√ß√£o de cura',
        'descricao': 'Restaura 5 de vida nos jogadores.',
        'Como pode ser usada': 'Consumir para recuperar 5 de vida.',
        'dano': 0
    },
    '07': {
        'nome': 'Coroa rei goblin',
        'descricao': 'Rel√≠quia roubada do rei goblin.',
        'Como pode ser usada': 'Permite criar 2 goblins aliados na batalha, com naipe de copas.',
        'dano': 0
    },
    '08': {
        'nome': 'Fac√£o rei goblin',
        'descricao': 'Arma pesada usada pelo rei goblin.',
        'Como pode ser usada': 'Causa 3 de dano e atinge inimigos com naipe de paus.',
        'dano': 3
    },
    '09': {
        'nome': 'Bola de fogo',
        'descricao': 'Magia de ataque em √°rea.',
        'Como pode ser usada': 'Atinge todos os inimigos de uma onda, causando 2 de dano em cada, quando sair um K do baralho.',
        'dano': 2
    },
    '10': {
        'nome': 'Velha Joaquim (SM2)',
        'descricao': 'Figura m√≠stica que afasta as sombras.',
        'Como pode ser usada': 'Afasta inimigos sombrios.',
        'dano': 0
    },
    '11': {
        'nome': 'Martelo (SM2)',
        'descricao': 'Martelo resistente com grande impacto.',
        'Como pode ser usada': 'Bate nos n√∫meros 2, 4, 6, 8.',
        'dano': 2
    },
    '12': {
        'nome': 'Bolsa de moeda mercador (SM3)',
        'descricao': 'Bolsa especial Quando derrota um inimigo, voc√™ ter√° 50%  de chance obter uma moeda.',
        'Como pode ser usada': 'Voc√™ usar√° no cobate quando derrotar 1 inimigo ter√° pode obeter uma moeda.',
        'dano': 0
    },
    '13': {
        'nome': 'Escudo (SM4)',
        'descricao': 'Escudo que reduz o dano recebido pelo portador.',
        'Como pode ser usada': 'Voc√™ usar√° no cobate quando receber voc√™ consegue utilizar ele 3 vezes apenas.',
        'dano': 0
    },


})
def formatar_classes(classes):
    if classes is None:
        return "Nenhuma"
    if isinstance(classes, dict):
        nomes = [nome for nome, qtd in classes.items() if qtd]
        return ", ".join(nomes) if nomes else "Nenhuma"
    if isinstance(classes, (list, tuple, set)):
        return ", ".join(map(str, classes)) if classes else "Nenhuma"
    s = str(classes)
    return s if s else "Nenhuma"


dados = aventureiros_ref.get()
db_item = itens_ref.get()
for id_jogador, info in dados.items():
    print(f"üÜî ID: {id_jogador}")
    print(f"üîµ Nome : {info.get('nome')}")

    # Formata classes
    classes = info.get('classes')
    if classes:
        classes_formatadas = ", ".join([f"{classe} ({nivel})" for classe, nivel in classes.items()])
    else:
        classes_formatadas = "Nenhuma"


    # Pega invent√°rio (se for None, vira lista vazia)
    inventario = info.get('Inventario') or []
    #limpa lista de itens formatados para n√£o repetir
    itens_formatadas = ""
    if not inventario: itens_formatadas = "Vazio"
    else:
      for y in inventario:
          if y == "Vazio": #caso seja vazio, ele j√° encerra
              itens_formatadas = "Vazio"
              break
          else: #somando a lista de nome de itens
            itens_formatadas += db_item[y].get('nome')+", "

    #tirando a virgula final para padroniza√ß√£o, pegando tudo menos os 2 ultimos CARACTERES/LETRAS
    if itens_formatadas != "Vazio": itens_formatadas= itens_formatadas[:-2]

    print(f"üîµ Itens : {itens_formatadas}")
    print(f"üîµ Classes : {classes_formatadas}")
    print(f"üîµ N√≠vel : {info.get('nivel')}")
    print(f"üîµ Vila: {info.get('vila')}")
    print("============================================")